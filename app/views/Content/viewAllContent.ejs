<!DOCTYPE html>
<% include ../layout/Defaultlayout %>
    <script src="nezaker/app/ContentController.js"></script>

<div ng-controller="ContentController">
    <section id="contact">

    <div class="container">

      
      <div class="row row-offcanvas row-offcanvas-right">

   <% include ../Admin/AdminSideNav %>
  
  
    <div class="col-12 col-md-9">
      <p>
       <!--  <%
    var arrayFound = ConstantVal.status.filter(function(item) {
    return item.value == 1;});
  %>
  <%=JSON.stringify(arrayFound)%> -->
          <button  ng-click= "LoadUpdateForm(null,<%=JSON.stringify(ConstantVal.status)%>)" 
 data-toggle="modal"     href="#ContentModal" class="btn btn-primary btn-lg">اضافه </button>

      </p>
      <div ng-init="LoadContentGrid(1)">
    <table class="table table-striped table-hover">
    <tr>
     <td>id</td>
            <td>lesson name</td>
            <td>subject name</td>
            <td>grade  name</td>
            <td>stage  name</td>
            <td>user  name</td>
            <td>actions</td>
    </tr>

 <tr ng-repeat="content in ContentRecords">
            <td>{{content.id}}</td>
            <td>{{content.lesson.name}}</td>
            <td>{{content.lesson.subject.name}}</td>
            <td>{{content.lesson.subject.grade.name}}</td>
            <td>{{content.lesson.subject.grade.stage.name}}</td>
            <td>{{content.user.first_name}}  {{content.user.last_name}}</td>

            <td>
            <button  ng-click= "LoadUpdateForm(content.id,<%=JSON.stringify(ConstantVal.status)%>)" 
            data-toggle="modal"     href="#ContentModal" class="btn btn-primary btn-sm">Edit </button>

            <button confirmed-click="deleteContent({{content.id}})"
             ng-confirm-click="تأكيد الحذف ؟" class="btn btn-primary btn-sm">Delete </button>
    <!-- <button  ng-click= "LoadUpdateForm(content.id,<%=JSON.stringify(ConstantVal.status)%>)" 
 data-toggle="modal"     href="#ContentModal" class="btn btn-primary btn-sm">Edit </button>
       -->
            </td>
         </tr>
</table>
 <div id="dvPages">
        <nav aria-label="...">
          <ul class="pagination">
            <li class="page-item" style="margin: 2px;">
              <a class="btn btn-primary" ng-class="Pages > 0 ? '' :'active'" ng-disabled="Pages > 0" ng-click="Prev(activePage)" tabindex="-1" aria-label="Previous">
              <span aria-hidden="true">&laquo;</span>
              <span class="sr-only">Previous</span>
              </a>
            </li>
            <li class="page-item" ng-repeat="page in Pages" style="margin: 2px;">
             <a class="btn btn-primary" ng-class="activePage == page ? '' :'active'" ng-disabled="activePage == page" ng-click="LoadContentGrid(page)" aria-label="{{page}}">{{page}} <span class="sr-only">(current)</span></a>
            </li>
            <li class="page-item" style="margin: 2px;">
              <a class="btn btn-primary" ng-class="Pages > 0 ? '' :'active'" ng-disabled="Pages > 0" ng-click="Next(activePage)" aria-label="Next">
              <span aria-hidden="true">&raquo;</span>
              <span class="sr-only">Next</span>
              </a>
              </li>
             </ul>
            </nav>
</div>
 
      </div>
      <!--Pagination-->
                   
</div>

</div>    </div>
    </section>
<% include  ContentPopup %>
    </div>
<% include ../layout/footer %>
