<!DOCTYPE html>
<% include ../layout/Defaultlayout %>
    <script src="nezaker/app/LessonController.js"></script>

<div ng-controller="LessonController">
    <section id="contact">

    <div class="container">

      
      <div class="row row-offcanvas row-offcanvas-right">

   <% include ../Admin/AdminSideNav %>
  
    <div class="col-12 col-md-9">
      <p>
        
          <button  ng-click= "LoadUpdateForm(null,<%=JSON.stringify(ConstantVal.status)%>)" 
 data-toggle="modal"     href="#LessonModal" class="btn btn-primary btn-lg">اضافه </button>

      </p>
      <div ng-init="LoadLessonGrid(1)">
    <table class="table table-striped table-hover">
    <tr>
    <td>id</td>
    <td>name</td>
    <td>subject</td>
    <td>stage</td>
    <td>grade</td>
    <td>action</td>

    </tr>

 <tr ng-repeat="lesson in LessonRecords">
            <td>{{lesson.id}}</td>
            <td>{{lesson.name}}</td>
            <td>{{lesson.subject.name}}</td>
            <td>{{lesson.subject.grade.stage.name}}</td>
            <td>{{lesson.subject.grade.name}}</td>
            <td>
            <button  ng-click= "LoadUpdateForm(lesson.id,<%=JSON.stringify(ConstantVal.status)%>)" 
 data-toggle="modal"     href="#LessonModal" class="btn btn-primary btn-sm">Edit </button>

            <button confirmed-click="deleteLesson({{lesson.id}})"
             ng-confirm-click="تأكيد الحذف ؟" class="btn btn-primary btn-sm">Delete </button>

            </td>
         </tr>
</table>
 <div id="dvPages">
        <nav aria-label="...">
          <ul class="pagination">
            <li class="page-item" style="margin: 2px;">
              <a class="btn btn-primary" ng-class="Pages > 0 ? '' :'active'" ng-disabled="Pages > 0" ng-click="Prev(activePage)" tabindex="-1" aria-label="Previous">
              <span aria-hidden="true">&laquo;</span>
              <span class="sr-only">Previous</span>
              </a>
            </li>
            <li class="page-item" ng-repeat="page in Pages" style="margin: 2px;">
             <a class="btn btn-primary" ng-class="activePage == page ? '' :'active'" ng-disabled="activePage == page" ng-click="LoadLessonGrid(page)" aria-label="{{page}}">{{page}} <span class="sr-only">(current)</span></a>
            </li>
            <li class="page-item" style="margin: 2px;">
              <a class="btn btn-primary" ng-class="Pages > 0 ? '' :'active'" ng-disabled="Pages > 0" ng-click="Next(activePage)" aria-label="Next">
              <span aria-hidden="true">&raquo;</span>
              <span class="sr-only">Next</span>
              </a>
              </li>
             </ul>
            </nav>
</div>
 
      </div>
      <!--Pagination-->
                   
</div>

</div>    </div>
    </section>
<% include  LessonPopup %>
    </div>
<% include ../layout/footer %>
