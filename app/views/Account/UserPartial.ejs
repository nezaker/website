<!DOCTYPE html>
    <script src="nezaker/app/User/UserController.js"></script>

<div ng-controller="UserController">
      <p>
       <!--  <%
    var arrayFound = ConstantVal.status.filter(function(item) {
    return item.value == 1;});
  %>
  <%=JSON.stringify(arrayFound)%> -->
          <!-- <button  ng-click= "LoadUpdateForm(null,<%=JSON.stringify(ConstantVal.status)%>)" 
 data-toggle="modal"     href="#UserModal" class="btn btn-primary btn-lg">اضافه </button>
 -->
      </p>
      <div ng-init="LoadUserGrid(1)">
    <table class="table table-striped table-hover">
    <tr>
    
    <td>name</td>
    <td>email</td>
    <td>phone number</td>
<td>status</td>
<td>city</td>
<td>actions</td>
    </tr>

 <tr ng-repeat="user in UserRecords">
            <td>{{user.first_name}} {{user.last_name}}</td>
            <td>{{user.email}}</td>
            <td>{{user.phone_numbers}}</td>
            <td>{{user.status}}</td>
            <td>{{user.city.name}}</td>

            <td>
            <button  ng-click= "LoadUpdateForm(user.id,<%=JSON.stringify(ConstantVal.status)%>)" 
 data-toggle="modal"     href="#UserModal" class="btn btn-primary btn-sm">Edit </button>

            <button confirmed-click="deleteUser({{user.id}})"
             ng-confirm-click="تأكيد الحذف ؟" class="btn btn-primary btn-sm">Delete </button>
      
            </td>
         </tr>
</table>
 <div id="dvPages">
        <nav aria-label="...">
          <ul class="pagination">
            <li class="page-item" style="margin: 2px;">
              <a class="btn btn-primary" ng-class="Pages > 0 ? '' :'active'" ng-disabled="Pages > 0" ng-click="PrevUserPage(activePage)" tabindex="-1" aria-label="Previous">
              <span aria-hidden="true">&laquo;</span>
              <span class="sr-only">Previous</span>
              </a>
            </li>
            <li class="page-item" ng-repeat="page in Pages" style="margin: 2px;">
             <a class="btn btn-primary" ng-class="activePage == page ? '' :'active'" ng-disabled="activePage == page" ng-click="LoadUserGrid(page)" aria-label="{{page}}">{{page}} <span class="sr-only">(current)</span></a>
            </li>
            <li class="page-item" style="margin: 2px;">
              <a class="btn btn-primary" ng-class="Pages > 0 ? '' :'active'" ng-disabled="Pages > 0" ng-click="NextUserPage(activePage)" aria-label="Next">
              <span aria-hidden="true">&raquo;</span>
              <span class="sr-only">Next</span>
              </a>
              </li>
             </ul>
            </nav>
</div>
 
      </div>
      <!--Pagination-->
                   
</div>

<% include  UserPopup %>
